@using BTCPayServer.Abstractions.Contracts
@using BTCPayServer.Abstractions.Extensions
@using Microsoft.AspNetCore.Mvc.TagHelpers
@inject IScopeProvider ScopeProvider
@{
    var storeId = ScopeProvider.GetCurrentStoreId();
}

@if (!string.IsNullOrEmpty(storeId))
{
    <li class="nav-item">
        <a layout-menu-item="StoreBridge-Export" asp-controller="UIStoreBridge" asp-action="ExportStore" asp-route-storeId="@storeId">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512" style="vertical-align: middle; margin-right: 8px;">
                <path fill="currentColor" d="M307.2 169.6l-68.267-68.267c-12.8-12.8-29.867-17.067-46.933-17.067H64c-34.133 0-64 29.867-64 64v256c0 34.133 29.867 64 64 64h384c34.133 0 64-29.867 64-64V256c0-34.133-29.867-64-64-64H324.267c-8.533 0-12.8-4.267-17.067-8.533zM448 426.667H64c-8.533 0-21.333-8.533-21.333-21.333V149.333c0-8.533 8.533-21.333 21.333-21.333h128c4.267 0 12.8 4.267 17.067 8.533l68.267 68.267c12.8 12.8 29.867 17.067 46.933 17.067H448c8.533 0 21.333 8.533 21.333 21.333v149.333c0 12.8-12.8 21.333-21.333 21.333z" />
                <path fill="currentColor" d="M362.667 298.667H149.333c-12.8 0-21.333 8.533-21.333 21.333s8.533 21.333 21.333 21.333h213.333c12.8 0 21.333-8.533 21.333-21.333s-8.533-21.333-21.333-21.333z" />
            </svg>
            <span>Store Bridge</span>
        </a>
    </li>
}
@if (ViewData.IsCategory("StoreBridge"))
{
    <li class="nav-item nav-item-sub">
        <a layout-menu-item="StoreBridge-Export" asp-controller="UIStoreBridge" asp-action="ExportStore" asp-route-storeId="@storeId"
           text-translate="true">Export Store</a>
    </li>
    <li class="nav-item nav-item-sub">
        <a layout-menu-item="StoreBridge-Import" asp-controller="UIStoreBridge" asp-action="ImportStore" asp-route-storeId="@storeId"
           text-translate="true">Import Store</a>
    </li>
}