@using BTCPayServer.Abstractions.Contracts
@using BTCPayServer.Abstractions.Extensions
@using BTCPayServer.Client
@using BTCPayServer.Security
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Mvc.TagHelpers
@inject IScopeProvider ScopeProvider
@inject IAuthorizationService AuthorizationService
@{
    var storeId = ScopeProvider.GetCurrentStoreId();
    var isServerAdmin = (await AuthorizationService.AuthorizeAsync(User, null, new PolicyRequirement(Policies.CanModifyServerSettings))).Succeeded;
}

@if (!string.IsNullOrEmpty(storeId))
{
    <li class="nav-item">
        <a layout-menu-item="JumpSeller" asp-controller="UIJumpSeller" asp-action="Settings" asp-route-storeId="@storeId">
            <svg width="20" height="20" id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216.68 283.04">
                <defs>
                    <style>
                        .cls-2 {
                            stroke-width: 0;
                            fill: #fff
                        }</style>
                </defs>
                <path class="cls-2" d="M120.34 92.68H92.29L70.05 210.02c-1.57 4.12-6.43 16.07-14.14 22.67-2.2 1.89-4.2 2.95-6.51 3.26-4.68.61-8.47-2.2-9.77-3.26l-1.77 25.35c5.01 1.2 10.08 1.74 15.23 1.67 11.42 0 22.31-3.81 29.78-12.02 7.48-8.15 12.09-20.64 15.96-40.6l21.5-114.4zM135.45 65.15c2.37-1.28 4.68-2.76 6.8-4.49 11.81-9.37 18.74-23.75 18.8-38.96.06-5.78-1.09-11.55-3.4-16.88-.51-1.09-.45-2.37.19-3.34.64-1.03 1.8-1.54 2.95-1.48 1.16.06 2.25.77 2.76 1.86a48.057 48.057 0 0 1 4.11 19.83c-.06 17.33-7.96 33.63-21.44 44.28-2.25 1.8-4.68 3.4-7.25 4.81l-3.53-5.65z" />
                <path id="Combined-Shape" d="M172.03 96.85a22.488 22.488 0 0 1 3.53 17.71l-28.05 153.19c-2.05 11.36-9.18 16.88-20.92 14.89L15.43 263.13c-15.6-2.7-17.01-12.58-14.38-26.83L28.59 86.26c1.22-6.74 4.11-10.2 10.85-14.31l62.83-40.05c2.95-1.99 6.35-3.14 9.88-3.34 7 0 9.88 1.99 16.3 10.46l43.58 57.82zm-53.78 2.05H91.3L69.93 211.66c-4.17 21.44-10.97 26.31-19.77 26.31-2.63.06-5.33-.19-7.89-.71L39 257.8c4.81 1.16 9.69 1.67 14.63 1.6 10.97 0 21.44-3.66 28.62-11.55 7.19-7.83 11.62-19.83 15.34-39.02l20.67-109.94zM94.57 68.42c0 8.54 5.58 14.31 13.73 14.31 9.31 0 16.75-6.23 17.01-16.17.19-3.85-1.22-7.64-3.98-10.33-2.76-2.7-6.55-4.17-10.46-3.98-4.36-.06-8.54 1.6-11.62 4.68-3.08 3.02-4.81 7.19-4.68 11.49z" style="stroke-width:0;fill:#a6c544" />
                <path class="cls-2" d="M215.22 5.59c-1.54-.96-3.59-.51-4.62 1.03-.19.32-19.25 29.91-42.55 29.91-5.13.06-10.33-.26-15.4-1.03-7.32-1.03-14.63-1.48-22.01-1.35-21.31 0-32.47 11.17-32.47 22.21 0 7.19 5.01 19.38 23.75 19.38h.71c1.03-2.12 1.67-4.43 1.73-6.8-.83.13-1.6.13-2.44.19-16.3 0-17.14-10.59-17.14-12.71 0-7.57 9.05-15.53 25.8-15.53 7.06-.13 14.12.32 21.11 1.28 5.39.77 10.85 1.16 16.3 1.09 26.89 0 47.3-31.7 48.13-33.05.51-.77.64-1.67.51-2.5a2.91 2.91 0 0 0-1.41-2.12z" />
            </svg>
            <span>Jump Seller</span>
        </a>
    </li>
}